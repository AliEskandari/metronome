(this.webpackJsonpmetronome=this.webpackJsonpmetronome||[]).push([[0],{17:function(e,t,n){e.exports=n.p+"static/media/clickSound.846642c7.wav"},24:function(e,t,n){e.exports=n(36)},29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),s=(n(29),n(10)),l=(n(30),n(38)),i=n(39),u=n(40),m=n(41),p=n(5),f=n(6),d=n(9),v=n(8),g=n(15),x=n(18),h=n(16),b=n.n(h),y=n(17),E=n.n(y);function j(){var e=Object(g.a)(["\n    height: 50px;\n    width: 50px;\n    background-color: ",";\n    border-radius: 50%;\n    display: inline-block;\n"]);return j=function(){return e},e}var k=new b.a(E.a,{throttleMs:100}),w=x.a.span(j(),(function(e){return e.active?"#000":"#bbb"})),N=function(e){Object(d.a)(n,e);var t=Object(v.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.active!==e.active}},{key:"render",value:function(){return console.log("Light rendering"),this.props.active&&(console.log("sound"),k.setVolume(this.props.volume).play()),r.a.createElement(w,{active:this.props.active})}}]),n}(a.Component),O=function(e){Object(d.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).setActiveIndex=function(){-1===a.props.tick?a.activeIndex=-1:a.activeIndex=a.props.tick%a.props.length},a.activeIndex=-1,a}return Object(f.a)(n,[{key:"render",value:function(){this.setActiveIndex(),console.log("LightController Rendering \n tick: ".concat(this.props.tick," activeIndex: ").concat(this.activeIndex));for(var e=[],t=0;t<this.props.length;t++){var n=this.activeIndex===t;e.push(r.a.createElement(N,{key:t,active:n,volume:this.props.volume}))}return r.a.createElement("span",{className:"d-flex justify-content-between"},e)}}]),n}(r.a.Component),I=n(22),C=n.n(I);var K=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(100),n=Object(a.useRef)(!1),c=Object(a.useState)(.5),o=Object(s.a)(c,2),p=o[0],f=o[1],d=Object(a.useState)(parseInt(t.current)),v=Object(s.a)(d,2),g=v[0],x=v[1],h=Object(a.useState)(-1),b=Object(s.a)(h,2),y=b[0],E=b[1],j=function(){console.log("play at bpm:",t.current),E(0);var n=6e4/t.current;e.current=setInterval((function(){E((function(e){return e+1}))}),n)},k=function(){clearInterval(e.current),E(-1)},w=function(){console.log("toggling play stop"),!0===n.current?(n.current=!1,k()):(n.current=!0,j())},N=function(e,a){t.current=t.current+a,x(t.current),k(),!0===n.current&&j()},I=function(e){e.preventDefault()};return r.a.createElement(l.a,{className:"d-flex align-items-center justify-content-between flex-wrap"},r.a.createElement(C.a,{handleKeys:["space"],onKeyEvent:w,handleFocusableElements:!0}),r.a.createElement(i.a,null,r.a.createElement(u.a,{md:2,className:"d-none d-sm-none d-md-block"}),r.a.createElement(u.a,{xs:12,md:8},r.a.createElement(i.a,{className:"d-flex align-items-center justify-content-between"},r.a.createElement(u.a,{xs:{span:3,order:2},lg:{span:1,order:1},className:"d-flex px-3 px-lg-0 justify-content-center"},r.a.createElement(m.a,{size:"lg",block:!0,onKeyDown:I,onClick:function(e){return N(0,-5)}},"-5")),r.a.createElement(u.a,{xs:{span:3,order:3},lg:{span:1,order:2},className:"d-flex px-3 px-lg-0 justify-content-center"},r.a.createElement(m.a,{size:"lg",block:!0,onKeyDown:I,onClick:function(e){return N(0,-1)}},"-")),r.a.createElement(u.a,{xs:{span:12,order:1},lg:{span:6,order:3},className:"text-center"},r.a.createElement("input",{value:g,className:"input-bpm",onChange:function(e){var a=e.target.value;""===a&&(x(""),t.current=0);var r=parseInt(a);if(!isNaN(r)){var c=r;c>0&&c<=200&&(x(c),t.current=c,k(),t.current>0&&t.current<=200&&!0===n.current&&j())}}})),r.a.createElement(u.a,{xs:{span:3,order:4},lg:{span:1,order:4},className:"d-flex px-3 px-lg-0 justify-content-center"},r.a.createElement(m.a,{size:"lg",block:!0,onKeyDown:I,onClick:function(e){return N(0,1)}},"+")),r.a.createElement(u.a,{xs:{span:3,order:5},lg:{span:1,order:5},className:"d-flex px-3 px-lg-0 justify-content-center"},r.a.createElement(m.a,{size:"lg",block:!0,onKeyDown:I,onClick:function(e){return N(0,5)}},"+5"))),r.a.createElement(i.a,{className:"d-flex justify-content-center row-metronome-lights mt-5 mt-lg-0"},r.a.createElement(u.a,{xs:8,sm:6,md:8,lg:6,className:""},r.a.createElement(O,{tick:y,length:4,volume:p}))),r.a.createElement(i.a,{className:"d-flex justify-content-center"},r.a.createElement(u.a,{xs:6,className:"d-flex justify-content-center"},r.a.createElement(m.a,{size:"lg",onClick:w},n.current?"Stop":"Play")))),r.a.createElement(u.a,{xs:12,md:{span:1,offset:1},className:"d-flex justify-content-center py-4"},r.a.createElement("input",{type:"range",className:"vert-input",min:"0.0",max:"1.0",step:"0.05",value:p,onChange:function(e){console.log("setting volume"),f(parseFloat(e.target.value))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.e21c3fbf.chunk.js.map
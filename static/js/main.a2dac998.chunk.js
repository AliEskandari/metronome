(this.webpackJsonpmetronome=this.webpackJsonpmetronome||[]).push([[0],{17:function(e,t,n){e.exports=n.p+"static/media/clickSound.846642c7.wav"},24:function(e,t,n){e.exports=n(36)},29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(14),o=n.n(r),s=(n(29),n(10)),l=(n(30),n(38)),i=n(39),u=n(40),m=n(41),f=n(5),p=n(6),v=n(9),d=n(8),h=n(15),b=n(18),x=n(16),g=n.n(x),y=n(17),E=n.n(y);function j(){var e=Object(h.a)(["\n    height: 50px;\n    width: 50px;\n    background-color: ",";\n    border-radius: 50%;\n    display: inline-block;\n"]);return j=function(){return e},e}var k=new g.a(E.a,{throttleMs:100}),w=b.a.span(j(),(function(e){return e.active?"#000":"#bbb"})),N=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.active!==e.active}},{key:"render",value:function(){return console.log("Light rendering"),this.props.active&&(console.log("sound"),k.setVolume(this.props.volume).play()),c.a.createElement(w,{active:this.props.active})}}]),n}(a.Component),O=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,e)).setActiveIndex=function(){-1===a.props.tick?a.activeIndex=-1:a.activeIndex=a.props.tick%a.props.length},a.activeIndex=-1,a}return Object(p.a)(n,[{key:"render",value:function(){this.setActiveIndex(),console.log("LightController Rendering \n tick: ".concat(this.props.tick," activeIndex: ").concat(this.activeIndex));for(var e=[],t=0;t<this.props.length;t++){var n=this.activeIndex===t;e.push(c.a.createElement(N,{key:t,active:n,volume:this.props.volume}))}return c.a.createElement("span",{className:"d-flex justify-content-between"},e)}}]),n}(c.a.Component),I=n(22),C=n.n(I);var K=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(100),n=Object(a.useRef)(!1),r=Object(a.useState)(.5),o=Object(s.a)(r,2),f=o[0],p=o[1],v=Object(a.useState)(parseInt(t.current)),d=Object(s.a)(v,2),h=d[0],b=d[1],x=Object(a.useState)(-1),g=Object(s.a)(x,2),y=g[0],E=g[1],j=function(){console.log("play at bpm:",t.current),E(0);var n=6e4/t.current;e.current=setInterval((function(){E((function(e){return e+1}))}),n)},k=function(){clearInterval(e.current),E(-1)},w=function(){console.log("toggling play stop"),!0===n.current?(n.current=!1,k()):(n.current=!0,j())},N=function(e,a){t.current=t.current+a,b(t.current),k(),!0===n.current&&j()},I=function(e){e.preventDefault()};return c.a.createElement(l.a,{className:"d-flex align-items-center justify-content-between flex-wrap"},c.a.createElement(C.a,{handleKeys:["space"],onKeyEvent:w,handleFocusableElements:!0}),c.a.createElement(i.a,null,c.a.createElement(u.a,{md:2,className:"d-none d-sm-none d-md-block"}),c.a.createElement(u.a,{xs:12,md:8},c.a.createElement(i.a,{className:"d-flex align-items-center justify-content-between flex-nowrap no-gutters"},c.a.createElement(u.a,{xs:1,className:"d-flex justify-content-center"},c.a.createElement(m.a,{block:!0,onKeyDown:I,onClick:function(e){return N(0,-5)}},"-5")),c.a.createElement(u.a,{xs:1,className:"d-flex justify-content-center"},c.a.createElement(m.a,{block:!0,onKeyDown:I,onClick:function(e){return N(0,-1)}},"-")),c.a.createElement(u.a,{xs:6,className:"text-center"},c.a.createElement("input",{value:h,className:"input-bpm",onChange:function(e){var a=e.target.value;""===a&&(b(""),t.current=0);var c=parseInt(a);if(!isNaN(c)){var r=c;r>0&&r<=200&&(b(r),t.current=r,k(),t.current>0&&t.current<=200&&!0===n.current&&j())}}})),c.a.createElement(u.a,{xs:1,className:"d-flex justify-content-center"},c.a.createElement(m.a,{block:!0,onKeyDown:I,onClick:function(e){return N(0,1)}},"+")),c.a.createElement(u.a,{xs:1,className:"d-flex justify-content-center"},c.a.createElement(m.a,{block:!0,onKeyDown:I,onClick:function(e){return N(0,5)}},"+5"))),c.a.createElement(i.a,{className:"d-flex justify-content-center row-metronome-lights"},c.a.createElement(u.a,{xs:6,className:""},c.a.createElement(O,{tick:y,length:4,volume:f}))),c.a.createElement(i.a,{className:"d-flex justify-content-center"},c.a.createElement(u.a,{xs:6,className:"d-flex justify-content-center"},c.a.createElement(m.a,{onClick:w},n.current?"Stop":"Play")))),c.a.createElement(u.a,{xs:12,md:{span:1,offset:1},className:"d-flex justify-content-center py-4"},c.a.createElement("input",{type:"range",className:"vert-input",min:"0.0",max:"1.0",step:"0.05",value:f,onChange:function(e){console.log("setting volume"),p(parseFloat(e.target.value))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.a2dac998.chunk.js.map